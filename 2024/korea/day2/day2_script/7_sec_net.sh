
echo "######################"
echo "######################"
echo "### Module 7"
echo "####"
echo "######################"
echo "######################"

echo -------------------------------  전국 기능경기대회 2과제 -----------------------------------

echo ------------------------------------------- 7-1 -------------------------------------------

buckets=$(aws s3 ls | awk '{print $3}' | grep -E 'j-s3-bucket-[a-zA-Z0-9]{7}-(original|backup)')
bucket1=$(echo "$buckets" | grep 'original' | head -n 1)
bucket2=$(echo "$buckets" | grep 'backup' | head -n 1)
buckets=$(aws s3 ls | awk '{print $3}' | grep -E '^j-s3-bucket-[a-zA-Z0-9]{7}-(original|backup)$')
echo "$buckets"

echo ----------------------------------------------------------------------------------------------

echo ------------------------------------------- 7-2-A -------------------------------------------

echo “test” > test.txt
aws s3 cp test.txt s3://$bucket1/
aws s3 cp test.txt s3://$bucket1/2024/
aws s3 cp test.txt s3://$bucket2/
sleep 80

echo ----------------------------------------------------------------------------------------------

echo ------------------------------------------- 7-2-B -------------------------------------------

aws s3 cp test.txt s3://$bucket2/2024/

echo ----------------------------------------------------------------------------------------------

echo ------------------------------------------- 7-3-A -------------------------------------------

echo “copy” > copy.txt
aws s3 cp copy.txt s3://$bucket1/2024/
sleep 80

echo ----------------------------------------------------------------------------------------------

echo ------------------------------------------- 7-3-B -------------------------------------------

echo Manual

echo ----------------------------------------------------------------------------------------------

echo ------------------------------------------- 7-4-A -------------------------------------------

echo “check” > check.txt
aws s3 cp check.txt s3://$bucket1/2024/
sleep 80

echo ----------------------------------------------------------------------------------------------

echo ------------------------------------------- 7-4-B -------------------------------------------

echo Manual

echo ----------------------------------------------------------------------------------------------

echo ------------------------------------------- 7-4-C -------------------------------------------

echo Manual

echo ----------------------------------------------------------------------------------------------

echo ------------------------------------------- 7-5-A -------------------------------------------

echo Manual

echo ----------------------------------------------------------------------------------------------

echo ------------------------------------------- 7-5-B -------------------------------------------

echo Manual

echo ----------------------------------------------------------------------------------------------

echo ------------------------------------------- 7-6-A -------------------------------------------

echo Manual

echo ----------------------------------------------------------------------------------------------

echo ------------------------------------------- 7-6-A -------------------------------------------

echo Manual

echo ----------------------------------------------------------------------------------------------